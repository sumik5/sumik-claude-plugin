# 戦略的ポートフォリオ（Strategic Portfolio）

Core Domain Chartとream Topologiesによるポートフォリオ投資判断とチーム設計をカバーする。

---

## 1. Utility vs Strategic IT

ソフトウェアの戦略的重要性を評価する基本二項対立:

```
Utility IT ◄──────────────────────────────────► Strategic IT
（差別化に寄与しない）                    （差別化の源泉）

例: 請求システム                          例: 物流最適化アルゴリズム
→ 動けば十分                              → 可能な限り優れたものに
→ SaaS/COTS活用                           → インハウス開発
→ 最小投資                                → 最大投資
```

### Tailored Operating Model

戦略的重要性に応じて運用モデルを変える:

| 観点 | Utility IT | Strategic IT |
|------|-----------|-------------|
| **チーム構成** | 最小限、外部委託可 | 最も優秀なメンバー |
| **技術選択** | SaaS/COTS/低コード | フルカスタム、最先端 |
| **開発手法** | 標準化、テンプレート | 探索的、Discovery重視 |
| **投資レベル** | 最小限 | 積極投資 |
| **変更頻度** | 低い（安定運用） | 高い（継続的進化） |

---

## 2. Core Domain Chart

ドメインをポートフォリオとしてマッピングし、各領域への最適な投資戦略を決定する手法。

### 2軸

- **X軸: Model Complexity**（モデルの複雑さ）— ドメインのビジネスルール、ロジックの複雑さ
- **Y軸: Differentiation**（差別化）— ビジネスにとっての戦略的重要度

### サブドメインの分類

```
          高い差別化
              │
   ┌─────────┼─────────┐
   │  Core    │  Core   │
   │ (simple) │(complex)│
   ├─────────┼─────────┤
   │Supporting│Supporting│
   │ (simple) │(complex)│
   └─────────┼─────────┘
              │
          低い差別化
    低い複雑さ    高い複雑さ
```

### Core Domain Chart パターン

| パターン | 特徴 | 投資方針 |
|---------|------|---------|
| **Decisive Core** | 高差別化・高複雑さ、明確な競争優位 | 最大投資。最優秀チーム、最先端技術 |
| **Indefensible Core** | 高差別化だが模倣されやすい | スピード重視。先行者利益を活かす |
| **Big Bet Future Core** | 将来Coreになりうる探索段階 | 戦略的実験投資。失敗を許容 |
| **High-leverage Supporting** | Coreの効率を大幅に向上 | 中〜高投資。自動化・最適化 |
| **Table Stakes Supporting** | 業界標準で必須だが差別化に寄与しない | SaaS/COTS活用。最小投資 |
| **Mission-critical Supporting** | 失敗するとCoreに致命的影響 | 信頼性重視。適切な投資 |
| **Suspect Supporting** | Supportingだが本当はCoreかもしれない | 再評価が必要 |
| **Hidden Core** | Supportingに見えるが実はCoreの要素を含む | 切り出してCore投資に切替 |
| **Black Swan Core** | 通常はSupportingだが特定条件でCoreに変わる | リスク管理と準備 |

### ポートフォリオパターン

| パターン | 状態 | アクション |
|---------|------|----------|
| **Core重過多** | Coreドメインが多すぎる | 本当にCoreか再評価、一部をSupportingに |
| **Core不足** | 差別化要素が少ない | 新たな差別化機会を探索 |
| **全部Custom** | すべてインハウス開発 | Genericな領域をSaaS/COTSに移行 |
| **過度な外部依存** | 重要領域を外部に委ねている | Coreは内製化 |

---

## 3. Team Topologies

### 原則

| 原則 | 説明 |
|------|------|
| **Sustainable Fast Flow** | 持続可能な高速フロー。速度 vs 品質は誤った二項対立 |
| **Small, Long-lived Teams** | 5-9人の安定したチームが基本単位 |
| **Team-first Thinking** | 個人ではなくチームが作業の最小単位 |
| **You Build It, You Run It** | 作ったものは自分たちで運用する |
| **Good Boundaries Minimize Cognitive Load** | 良い境界がチームの認知負荷を最小化 |
| **Embrace Conway's Law** | 組織構造がアーキテクチャを制約することを活用する |

### 4つのチームタイプ

| タイプ | 責任 | 数 |
|--------|------|-----|
| **Stream-aligned** | ビジネスドメインに整合し、ユーザーに直接価値を届ける | 最多 |
| **Platform** | Stream-alignedチームにセルフサービスのプラットフォームを提供 | 少数 |
| **Enabling** | 他チームの能力向上を支援、ガイダンスとコーチング | 少数 |
| **Complicated-subsystem** | 深い専門知識を要するサブシステムを担当 | 最少 |

### 3つのインタラクションモード

| モード | 使用場面 | 期間 |
|--------|---------|------|
| **Collaboration** | 新しい技術・パターンの導入、不確実性が高い場面 | 一時的（数週間〜数ヶ月） |
| **X-as-a-Service** | APIやプラットフォームを介した明確なインターフェース | 永続的（安定期） |
| **Facilitating** | Enablingチームが他チームを支援 | 一時的 |

### 進化パターン

チームトポロジーは静的ではなく、状況に応じて進化する:

| パターン | 説明 | トリガー |
|---------|------|---------|
| **Split** | 1チームを複数に分割 | 認知負荷の増大、独立性の需要 |
| **Merge** | 複数チームを統合 | サブドメインが小さすぎる |
| **Switch Type** | チームタイプを変更 | 成熟度の変化（Enabling → Stream-aligned等） |
| **Dynamic Reteaming** | メンバーの流動的な移動 | スキルギャップ、一時的なニーズ |

---

## 4. Independent Service Heuristics

候補となるバリューストリームが本当に独立できるか検証するヒューリスティクス:

| ヒューリスティクス | 質問 |
|-----------------|------|
| **Sense-check** | これは1チームが所有できる意味のある塊か？ |
| **独立デプロイ** | 他のサービスと独立してデプロイできるか？ |
| **独立テスト** | 他のチームの協力なしにテストできるか？ |
| **技術的独立** | 独自の技術選択ができるか？ |
| **データ独立** | 自分のデータストアを持てるか？ |
| **ビジネスメトリクス** | 独自のKPIで成功を測定できるか？ |
| **ユーザー向き** | 明確なユーザー（内部/外部）がいるか？ |

### Mandate Levels

チームに与える権限のレベル:

| レベル | 説明 |
|--------|------|
| **Tell** | チームに具体的な指示を与える |
| **Sell** | 理由を説明した上で方向性を示す |
| **Consult** | チームの意見を聞いた上で決定する |
| **Agree** | チームと合意形成する |
| **Advise** | アドバイスは提供するが決定はチームに委ねる |
| **Inquire** | チームの決定を事後確認する |
| **Delegate** | 完全にチームに委譲する |

---

## 5. チームグルーピングパターン

関連するチームのグループ化方法:

| パターン | 説明 | 適用場面 |
|---------|------|---------|
| **Value Stream Grouping** | 同じバリューストリームのチームをグループ化 | エンドツーエンドの価値提供を重視 |
| **Capability Grouping** | 同じケイパビリティのチームをグループ化 | 技術的専門性の共有を重視 |
| **Geography Grouping** | 地理的に近いチームをグループ化 | タイムゾーンやコミュニケーションの制約 |
| **Hybrid** | 上記の組み合わせ | 大規模組織の現実的な妥協 |
