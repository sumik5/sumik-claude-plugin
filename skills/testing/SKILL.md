---
name: testing
description: Provides comprehensive testing and TDD guidance. Use for writing tests before implementing new features, creating reproduction tests for bug fixes, running regression tests during refactoring, and checking test coverage during code reviews. Enforces AAA pattern and 100% coverage goal.
---

# ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

## ğŸ“‘ ç›®æ¬¡

ã“ã®ã‚¹ã‚­ãƒ«ã¯ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š

- **SKILL.md** (ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«): æ¦‚è¦ã¨ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- **[TDD.md](./TDD.md)**: TDDã‚µã‚¤ã‚¯ãƒ«ã¨å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
- **[TEST-TYPES.md](./TEST-TYPES.md)**: ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰ï¼ˆå˜ä½“ã€çµ±åˆã€E2Eï¼‰
- **[TESTABLE-DESIGN.md](./TESTABLE-DESIGN.md)**: ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ãªè¨­è¨ˆåŸå‰‡
- **[REFERENCE.md](./REFERENCE.md)**: ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ã€ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

## ğŸ¯ ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°

- **æ–°æ©Ÿèƒ½å®Ÿè£…æ™‚ï¼ˆå®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆä½œæˆï¼‰**
- **ãƒã‚°ä¿®æ­£æ™‚ï¼ˆå†ç¾ãƒ†ã‚¹ãƒˆä½œæˆï¼‰**
- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ï¼ˆå›å¸°ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼‰**
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚ï¼ˆãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèªï¼‰**

## ğŸ“‹ åŸºæœ¬åŸå‰‡

### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆé–‹ç™º

å®Ÿè£…ã®å‰ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã€ŒTDDï¼ˆTest-Driven Developmentï¼‰ã€ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

**åŸºæœ¬ã‚µã‚¤ã‚¯ãƒ«:**
```
1. Redï¼ˆå¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼‰
   â†“
2. Greenï¼ˆæœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã§é€šã™ï¼‰
   â†“
3. Refactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰
   â†“
ç¹°ã‚Šè¿”ã—
```

è©³ç´°ã¯ [TDD.md](./TDD.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰

```
        /\
       /  \      E2Eï¼ˆå°‘æ•°ï¼‰
      /____\     çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆä¸­ç¨‹åº¦ï¼‰
     /______\    å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆå¤šæ•°ï¼‰
```

**åŸå‰‡:**
- å˜ä½“ãƒ†ã‚¹ãƒˆã‚’æœ€ã‚‚å¤šãä½œæˆ
- çµ±åˆãƒ†ã‚¹ãƒˆã¯é©åº¦ã«
- E2Eãƒ†ã‚¹ãƒˆã¯æœ€å°é™ã«

è©³ç´°ã¯ [TEST-TYPES.md](./TEST-TYPES.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### AAAãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå¿…é ˆï¼‰

ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã¯ **Arrange-Act-Assert** ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã„ã¾ã™ï¼š

```typescript
it('should create user with valid data', () => {
  // Arrangeï¼ˆæº–å‚™ï¼‰
  const userData = { name: 'John', email: 'john@example.com' }

  // Actï¼ˆå®Ÿè¡Œï¼‰
  const user = userService.createUser(userData)

  // Assertï¼ˆæ¤œè¨¼ï¼‰
  expect(user.name).toBe('John')
})
```

## ğŸ¯ ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

### æ¨å¥¨ã‚«ãƒãƒ¬ãƒƒã‚¸åŸºæº–

```
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯: 100%
- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°: 100%
- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼: 80%ä»¥ä¸Š
- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 70%ä»¥ä¸Š
```

è©³ç´°ã¯ [REFERENCE.md](./REFERENCE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ¨ ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ãªè¨­è¨ˆ

ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã‚ã®è¨­è¨ˆåŸå‰‡ï¼š

**1. ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰**
- ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã®ä¾å­˜æ³¨å…¥
- ãƒ¢ãƒƒã‚¯å¯èƒ½ãªè¨­è¨ˆ

**2. ç´”ç²‹é–¢æ•°**
- å‰¯ä½œç”¨ã®ãªã„é–¢æ•°
- åŒã˜å…¥åŠ›ã«å¯¾ã—ã¦åŒã˜å‡ºåŠ›

**3. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æŠ½è±¡åŒ–**
- å…·è±¡ã‚¯ãƒ©ã‚¹ã§ã¯ãªãã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜
- ãƒ†ã‚¹ãƒˆç”¨ãƒ¢ãƒƒã‚¯ã®ä½œæˆãŒå®¹æ˜“

è©³ç´°ã¯ [TESTABLE-DESIGN.md](./TESTABLE-DESIGN.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“Š ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### æ–°æ©Ÿèƒ½å®Ÿè£…æ™‚ã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼

```
1. ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ãï¼ˆRedï¼‰
   â†“
2. æœ€å°é™ã®å®Ÿè£…ï¼ˆGreenï¼‰
   â†“
3. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼ˆRefactorï¼‰
   â†“
4. ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
   â†“
5. å®Œäº†
```

### ãƒã‚°ä¿®æ­£æ™‚ã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼

```
1. ãƒã‚°ã‚’å†ç¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
   â†“
2. ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
   â†“
3. ãƒã‚°ã‚’ä¿®æ­£
   â†“
4. ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã™ã‚‹ã“ã¨ã‚’ç¢ºèª
   â†“
5. å®Œäº†
```

## ğŸš€ å®Ÿè·µä¾‹

### TypeScript + Jest

```typescript
// ãƒ†ã‚¹ãƒˆ
describe('calculateTotal', () => {
  it('should calculate total with discount', () => {
    expect(calculateTotal([100, 200], 0.1)).toBe(270)
  })
})

// å®Ÿè£…
function calculateTotal(items: number[], discount: number): number {
  const subtotal = items.reduce((sum, item) => sum + item, 0)
  return subtotal * (1 - discount)
}
```

### E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰

```typescript
test('user registration flow', async ({ page }) => {
  await page.goto('/register')
  await page.fill('#email', 'john@example.com')
  await page.click('button[type="submit"]')
  await expect(page.locator('.success')).toBeVisible()
})
```

## ğŸ“‹ æœ€å°é™ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å®Ÿè£…å®Œäº†å‰ã«ç¢ºèªï¼š
- [ ] AAAãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã£ã¦ã„ã‚‹ã‹
- [ ] ãƒ†ã‚¹ãƒˆåã¯ä»•æ§˜ã‚’èª¬æ˜ã—ã¦ã„ã‚‹ã‹
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ã‚’é”æˆã—ã¦ã„ã‚‹ã‹
- [ ] ãƒ†ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ã¦ã„ã‚‹ã‹

å®Œå…¨ãªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¯ [REFERENCE.md](./REFERENCE.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ”— é–¢é€£ã‚¹ã‚­ãƒ«

- **applying-solid-principles** - ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ãªè¨­è¨ˆåŸå‰‡
- **enforcing-type-safety** - å‹å®‰å…¨ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
- **mcp-browser-auto** - E2Eãƒ†ã‚¹ãƒˆå®Ÿè£…
- **implementing-as-tachikoma** - Developer Agentå®Ÿè£…ã‚¬ã‚¤ãƒ‰
